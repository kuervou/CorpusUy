---
import Layout from "../../layouts/Layout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

export async function getStaticPaths() {
  const items = await getCollection("news");
  return items.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props as { entry: CollectionEntry<"news"> };

const { title, date, cover, coverAlt } = entry.data;
const prettyDate = new Intl.DateTimeFormat("es-UY", {
  year: "numeric",
  month: "long",
  day: "2-digit",
}).format(date);

const { Content } = await entry.render();
---

<Layout title={`${title} | Corpus UY`} description="Enterate de todas las novedades de la banda más pujante del oeste de Canelones" canonical="">

  <!-- Wrapper con padding-top para que no quede bajo el header -->
  <section class="min-h-screen bg-gradient-to-b
  from-[rgba(225,6,0,0.35)]
  via-[#1B1B1B]
  to-[rgba(225,6,0,0.35)]
   pt-20 sm:pt-24" >

    <!-- HERO full-bleed -->
    <header class="relative w-full">
      <!-- altura responsive del hero -->
      <div class="relative h-[52vh] min-h-[360px] sm:h-[60vh] overflow-hidden">
        <Image
            src={cover}
            alt={coverAlt || title}
            class="absolute inset-0 h-full w-full object-cover object-top"
            loading="eager"
            title={title} 
          />

        <div class="absolute inset-0 bg-black/30"></div>

        <!-- contenido encima -->
        <div class="relative h-full">
          <div class="mx-auto max-w-5xl px-4 sm:px-10 lg:px-20 h-full flex flex-col justify-end pb-10">
            <p class="text-xs sm:text-sm text-zinc-200/90">{prettyDate}</p>

            <h1 class="mt-3 text-3xl sm:text-5xl lg:text-6xl font-bold text-light leading-tight">
              {title}
            </h1>
          </div>
        </div>
      </div>
    </header>

    <!-- CONTENIDO (debajo del hero) -->
    <article class="mx-auto max-w-5xl px-4 sm:px-10 lg:px-20 py-10">
      <div
  class="
    prose prose-invert prose-zinc max-w-none
    prose-lg sm:prose-xl

    prose-p:leading-8 prose-p:my-5
    prose-li:leading-8

    prose-h1:text-4xl sm:prose-h1:text-5xl lg:prose-h1:text-6xl
    prose-h1:font-extrabold prose-h1:tracking-tight prose-h1:mb-6

    prose-h2:text-2xl sm:prose-h2:text-3xl
    prose-h2:font-bold prose-h2:tracking-tight
    prose-h2:mt-12 prose-h2:mb-4

    prose-h3:text-xl sm:prose-h3:text-2xl
    prose-h3:font-bold prose-h3:tracking-tight
    prose-h3:mt-10 prose-h3:mb-4

    prose-strong:text-white
  "
>
  <Content />
</div>


      <div class="mt-10">
        <a href="/novedades/" class="text-sm text-zinc-200 hover:text-light underline underline-offset-4">
          ← Volver a novedades
        </a>
      </div>
    </article>

  </section>
</Layout>