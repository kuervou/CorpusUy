---
import Layout from "../../layouts/Layout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import ArticleSection from "../../components/news/ArticleSection.astro";

// Traemos todas las novedades
const items: CollectionEntry<"news">[] = (await getCollection("news"))
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout
  title="Novedades | Corpus UY"
  description="Todas las novedades, shows y movimientos de CORPUS."
  canonical="/novedades"
>
  <section
    class="
      min-h-screen
      bg-gradient-to-b
  from-[#1B1B1B]
  via-[#1B1B1B]
  to-[rgba(225,6,0,0.35)]
      px-4 sm:px-10 lg:px-20
      py-12
      pt-20
      sm:pt-24
    "
  >
    <!-- Header de la página -->
    <header class="max-w-5xl mx-auto mb-10">
      <h1 class="text-4xl sm:text-5xl font-extrabold text-light tracking-tight">
        Novedades
      </h1>
      <p class="mt-3 text-zinc-300 max-w-2xl">
        Todas las publicaciones, shows y movimientos recientes de CORPUS.
      </p>
    </header>

    <!-- Listado de artículos -->
    <div class="max-w-5xl mx-auto flex flex-col gap-8">
      {items.map((entry) => (
        <ArticleSection entry={entry} />
      ))}
    </div>
  </section>
</Layout>
