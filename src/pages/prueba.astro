---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Guitar from '../components/icons/Guitar.astro';
import HeroSection from '../components/HeroSection.astro';
import AboutSection from '../components/AboutSection.astro';

---
<Layout title="Corpus 💣🔥" description='La mejor banda del planeta'>
    
    <HeroSection />
    <AboutSection bg="bg-light bg-cover bg-center bg-no-repeat z-20" title1="¿QUIÉNES" title2="SOMOS?" description="Banda de rock formada el 28 de Noviembre del 2014 en la ciudad de Los Cerrillos, Canelones, Uruguay. Mezclamos rock con todos los generos que nos gustan y esa es nuestra mejor excusa para subir a los escenarios a volarte la peluca. " imageSrc="/About.webp" />
    <AboutSection bg="bg-[url('/images/Esteban-bg.png')] bg-cover bg-center bg-no-repeat text-light z-10" title1="ESTEBAN" title2="TORRES" description="Banda de rock formada el 28 de Noviembre del 2014 en la ciudad de Los Cerrillos, Canelones, Uruguay. Nuestras canciones rebozantes de energía son nuestra mejor excusa para subir a los escenarios y volarte la peluca. " imageSrc="/Esteban-main.png" />

</Layout>

<!-- Elemento audio para la canción de fondo -->
<audio id="backgroundMusic" loop>
    <source src="/audio/vaimaca.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>

<script>
    const audioControl = document.getElementById('audioControl');
    const backgroundMusic = document.getElementById('backgroundMusic');

    // Inicialmente el audio está pausado
    let isPlaying = false;

    if (audioControl) {
        audioControl.addEventListener('click', () => {
            if (backgroundMusic) {
                const backgroundMusic = document.getElementById('backgroundMusic') as HTMLAudioElement;
                isPlaying ? backgroundMusic.pause() : backgroundMusic.play();
            }
            isPlaying = !isPlaying; // Cambia el estado de reproducción
        });
    }
    if (backgroundMusic) {
        isPlaying ? (backgroundMusic as HTMLAudioElement).pause() : (backgroundMusic as HTMLAudioElement).play();
    }
                isPlaying = !isPlaying; // Cambia el estado de reproducción
        

            // Asegurarse de que el audio comience en pausa
            window.onload = () => {
    if (backgroundMusic) {
        (backgroundMusic as HTMLAudioElement).pause();
    }
                isPlaying = false;
            };
</script>


<!-- 

<script>
    document.addEventListener("DOMContentLoaded", () => {
      const $integrantes = document.querySelector("#integrantes");
      const $imageContainers = $integrantes?.querySelectorAll("div"); // Selecciona los contenedores de cada imagen
  
      $imageContainers?.forEach(($container, index) => {
        const $img = $container.querySelector("img");
  
        // Evento mouseleave
        if($img){
            $img.addEventListener("mouseleave", () => {
            $imageContainers.forEach(($container) => {
                const $img = $container.querySelector("img");
               if($img){
                $img.style.filter = "none";
                $img.style.transition = "all .3s ease-in-out";
                $img.style.transform = "scale(1)";
               }
            });
            });
        
        
  
            // Evento mouseenter
            $img.addEventListener("mouseenter", () => {
            const position = index; // La posición ya no depende de los nodos hermanos directos
    
            // get image for the left side and the right side
            const leftBoxer = $imageContainers[position]?.querySelector("img");
            // Suponiendo que querías hacer algo especial con la imagen a la derecha, ajusta esta lógica según sea necesario
            const rightBoxer = $imageContainers[position]?.querySelector("img");
    
            // Aplicar efectos de desenfoque a todas las imágenes excepto a las seleccionadas
            $imageContainers.forEach(($container) => {
                const $img = $container.querySelector("img");
                if($img){
                    $img.style.filter = "blur(2px) grayscale(.8)";
                    $img.style.transition = "all .3s ease-in-out";
                }
                
            });
    
            // Restaurar y destacar las imágenes seleccionadas
            if(leftBoxer) {
                leftBoxer.style.transform = "scale(1.2)";
                leftBoxer.style.filter = "contrast(1.1)";
                leftBoxer.style.transition = "all .3s ease-in-out";
            }
            if(rightBoxer) {
                rightBoxer.style.transform = "scale(1.2)";
                rightBoxer.style.filter = "contrast(1.1)";
                rightBoxer.style.transition = "all .3s ease-in-out";
            }
            });
        }   
      });
    });
  </script>

-->
    
  