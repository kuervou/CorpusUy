---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type Props = {
  entry: CollectionEntry<"news">;
  href: string;
};

const { entry, href } = Astro.props;
const { title, excerpt, cover, coverAlt, date } = entry.data;

const prettyDate = new Intl.DateTimeFormat("es-UY", {
  year: "numeric",
  month: "short",
  day: "2-digit",
}).format(date);
---

<a
  href={href}
  class="group block overflow-hidden rounded-2xl bg-zinc-900/60 ring-1 ring-white/10 hover:ring-white/20 transition"
>
  <div class="relative aspect-[16/9] overflow-hidden">
    <Image
      src={cover}
      alt={coverAlt || title}
      class="h-full w-full object-cover group-hover:scale-[1.03] transition-transform duration-300"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/10 to-transparent"></div>
  </div>

  <div class="p-4">
    <p class="text-xs text-zinc-400">{prettyDate}</p>
    <h3 class="mt-1 text-base font-semibold text-light leading-snug">
      {title}
    </h3>
    <p class="mt-2 text-sm text-zinc-300 line-clamp-2">
      {excerpt}
    </p>
  </div>
</a>
