---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Preloader from '../components/Preloader.astro';


interface Props {
  description: string;
  title: string;
  canonical: string | undefined;
}

const { title, description, canonical } = Astro.props;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "MusicGroup",
  "name": "CORPUS",
  "url": "https://corpus.uy",
  "image": "https://corpus.uy/images/Hero-bg.webp",
  "genre": "Rock alternativo",
  "foundingDate": "2014-11-28",
  "foundingLocation": "Los Cerrillos, Uruguay",
  "sameAs": [
    "https://www.instagram.com/corpus.uy/",
    "https://www.youtube.com/@Corpusuy",
    "https://open.spotify.com/intl-es/artist/42fuOGHadNohy4YEinUXEX",
    "https://corpus.bandcamp.com/",
    "https://www.facebook.com/corpus.uy/"
  ]
};
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
  
    <!-- SEO Básico -->
    <link rel="canonical" href={canonical ?? 'https://corpus.uy'} />
  
    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonical ?? 'https://corpus.uy'} />
    <meta property="og:image" content="/images/Hero-bg.webp" />
  
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content="/images/Hero-bg.webp" />
  
    <link rel="icon" type="image/webp" href="/images/Cruz.webp" />

    <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
    
  </head>

  <body class="m-0 p-0">

    <Preloader />
    <Header />
    <slot />
    <Footer />
  </body>


  <style is:global>
    :root {
      color-scheme: light dark;
    }

    html {
      scroll-behavior: smooth;
    }

    /* ===========================
       CLASH DISPLAY – @font-face
       =========================== */
    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-EXTRALIGHT.OTF") format("opentype");
      font-weight: 200;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-LIGHT.OTF") format("opentype");
      font-weight: 300;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-REGULAR.OTF") format("opentype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-MEDIUM.OTF") format("opentype");
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-SEMIBOLD.OTF") format("opentype");
      font-weight: 600;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "Clash Display";
      src: url("/fonts/clash/CLASHDISPLAY-BOLD.OTF") format("opentype");
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }

    body {
      background: #121212;
      display: flex;
      flex-direction: column;
      font-family: "Clash Display", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
    }

     /* === Animación de la cruz del preloader === */

     @keyframes logo-pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.08);
      }
    }

    .animate-logo-pulse {
      animation: logo-pulse 1.2s ease-in-out infinite;
      transform-origin: center; /* opcional, para SVG */
    }

    /* =============================
     HALO ANIMADO DETRÁS
     ============================= */

  .halo-pulse {
    position: absolute;
    width: 120%;   /* más grande que el SVG */
    height: 120%;
    background: radial-gradient(
      circle,
      rgba(225, 6, 0, 0.55) 0%,
      rgba(225, 6, 0, 0) 70%
    );
    filter: blur(32px);
    border-radius: 50%;
    z-index: -1;

    animation: halo-pulse 1.3s ease-in-out infinite;
    animation-delay: 0.15s; /* leve desfase para que no pulse igual que la cruz */
  }

  @keyframes halo-pulse {
    0%, 100% {
      transform: scale(1.1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.25);
      opacity: 1;
    }
  }
  </style>

  <script>
    if (typeof window !== 'undefined') {
      // Espera a que termine de cargar la página (imágenes, CSS, etc.)
      window.addEventListener('load', () => {
        const preloader = document.getElementById('preloader');
        if (preloader) {
          preloader.classList.add('opacity-0', 'pointer-events-none');
          // Lo removemos después del fade-out
          setTimeout(() => preloader.remove(), 600);
        }
      });
    }
  </script>

</html>
